# polarion id: CEPH-83607049
# test scripts : test_n+e_signature_check.py

config:
    user_count: 1
    bucket_count: 2
    objects_count: 10
    objects_size_range:
        min: 5
        max: 15
    ssl: false
    haproxy: false
    test_ops:
        sts_key: "password12345678"
        role_name: "S3Access"
        policy_name: "Policy1"
        role_session_name: "test-session"
        duration_seconds: 3600
        create_bucket: true
        create_object: true
        delete_object: true
        upload_type: "normal"  # Options: "normal" or "multipart"

        sts:
            policy_document:
                Version: "2012-10-17"
                Statement:
                    - Effect: "Allow"
                      Principal:
                          Federated:
                              - "arn:aws:iam:::oidc-provider/idp_url"
                      Action:
                          - "sts:AssumeRoleWithWebIdentity"
                      Condition:
                          StringEquals:
                              "iam.cloud.ibm.com/identity:client_id": "client_id"

            role_policy:
                Version: "2012-10-17"
                Statement:
                    Effect: "Allow"
                    Action: "s3:*"
                    Resource: "arn:aws:s3:::*"
